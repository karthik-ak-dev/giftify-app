{
    "tableName": "giftify-backend-stage-orders",
    "description": "Sample data for Orders table - stores order information and fulfillment details",
    "primaryKey": {
        "partitionKey": "orderId (String)"
    },
    "globalSecondaryIndexes": [
        {
            "indexName": "UserOrdersIndex",
            "partitionKey": "userId (String)",
            "sortKey": "createdAt (String)"
        },
        {
            "indexName": "OrderStatusIndex",
            "partitionKey": "status (String)",
            "sortKey": "createdAt (String)"
        }
    ],
    "sampleItems": [
        {
            "orderId": "01HKQM5X8G9YZ2ORDER0012345",
            "userId": "01HKQM5X8G9YZ2ABCDEFGH1234",
            "status": "FULFILLED",
            "items": [
                {
                    "brandId": "01HKQM5X8G9YZ2BRAND001",
                    "brandName": "Amazon",
                    "variantId": "amazon-500",
                    "variantName": "₹500 Gift Card",
                    "unitPrice": 48500,
                    "requestedQuantity": 2,
                    "fulfilledQuantity": 2,
                    "totalPrice": 97000,
                    "fulfilledPrice": 97000,
                    "refundedPrice": 0
                }
            ],
            "totalAmount": 97000,
            "paidAmount": 97000,
            "refundAmount": 0,
            "fulfillmentDetails": {
                "attemptedAt": "2024-01-15T11:25:00.000Z",
                "fulfilledAt": "2024-01-15T11:25:00.000Z",
                "partialFulfillment": false,
                "refundProcessed": false,
                "totalGiftCardsAllocated": 2,
                "giftCards": [
                    {
                        "giftCardId": "01HKQM5X8G9YZ2GIFT001234567",
                        "giftCardNumber": "1234-5678-9012-3456",
                        "giftCardPin": "1234",
                        "denomination": 500,
                        "expiryTime": "2025-01-15T11:25:00.000Z"
                    },
                    {
                        "giftCardId": "01HKQM5X8G9YZ2GIFT001234568",
                        "giftCardNumber": "2345-6789-0123-4567",
                        "giftCardPin": "5678",
                        "denomination": 500,
                        "expiryTime": "2025-01-15T11:25:00.000Z"
                    }
                ]
            },
            "createdAt": "2024-01-15T11:20:00.000Z",
            "updatedAt": "2024-01-15T11:25:15.000Z"
        },
        {
            "orderId": "01HKQM5X8G9YZ2ORDER0012346",
            "userId": "01HKQM5X8G9YZ2ABCDEFGH5678",
            "status": "PARTIALLY_FULFILLED",
            "items": [
                {
                    "brandId": "01HKQM5X8G9YZ2BRAND001",
                    "brandName": "Amazon",
                    "variantId": "amazon-1000",
                    "variantName": "₹1000 Gift Card",
                    "unitPrice": 97000,
                    "requestedQuantity": 3,
                    "fulfilledQuantity": 2,
                    "totalPrice": 291000,
                    "fulfilledPrice": 194000,
                    "refundedPrice": 97000
                }
            ],
            "totalAmount": 291000,
            "paidAmount": 291000,
            "refundAmount": 97000,
            "fulfillmentDetails": {
                "attemptedAt": "2024-01-14T10:15:00.000Z",
                "fulfilledAt": "2024-01-14T10:15:15.000Z",
                "partialFulfillment": true,
                "refundProcessed": true,
                "totalGiftCardsAllocated": 2
            },
            "createdAt": "2024-01-14T10:10:00.000Z",
            "updatedAt": "2024-01-14T10:15:30.000Z"
        },
        {
            "orderId": "01HKQM5X8G9YZ2ORDER0012347",
            "userId": "01HKQM5X8G9YZ2ABCDEFGH3456",
            "status": "PENDING",
            "items": [
                {
                    "brandId": "01HKQM5X8G9YZ2BRAND002",
                    "brandName": "Flipkart",
                    "variantId": "flipkart-500",
                    "variantName": "₹500 Gift Voucher",
                    "unitPrice": 49000,
                    "requestedQuantity": 2,
                    "fulfilledQuantity": 0,
                    "totalPrice": 98000,
                    "fulfilledPrice": 0,
                    "refundedPrice": 0
                },
                {
                    "brandId": "01HKQM5X8G9YZ2BRAND003",
                    "brandName": "Zomato",
                    "variantId": "zomato-300",
                    "variantName": "₹300 Food Voucher",
                    "unitPrice": 28500,
                    "requestedQuantity": 1,
                    "fulfilledQuantity": 0,
                    "totalPrice": 28500,
                    "fulfilledPrice": 0,
                    "refundedPrice": 0
                }
            ],
            "totalAmount": 126500,
            "paidAmount": 126500,
            "refundAmount": 0,
            "createdAt": "2024-01-15T14:25:00.000Z",
            "updatedAt": "2024-01-15T14:25:00.000Z"
        },
        {
            "orderId": "01HKQM5X8G9YZ2ORDER0012348",
            "userId": "01HKQM5X8G9YZ2ABCDEFGH1234",
            "status": "CANCELLED",
            "items": [
                {
                    "brandId": "01HKQM5X8G9YZ2BRAND001",
                    "brandName": "Amazon",
                    "variantId": "amazon-2000",
                    "variantName": "₹2000 Gift Card",
                    "unitPrice": 194000,
                    "requestedQuantity": 1,
                    "fulfilledQuantity": 0,
                    "totalPrice": 194000,
                    "fulfilledPrice": 0,
                    "refundedPrice": 194000
                }
            ],
            "totalAmount": 194000,
            "paidAmount": 194000,
            "refundAmount": 194000,
            "createdAt": "2024-01-13T09:15:00.000Z",
            "updatedAt": "2024-01-13T09:20:30.000Z"
        }
    ],
    "notes": [
        "Each order has unique orderId as primary key",
        "UserOrdersIndex GSI enables quick lookup of user's orders sorted by date",
        "OrderStatusIndex GSI enables filtering orders by status (PENDING, FULFILLED, etc.)",
        "Order items array contains OrderItem objects with brandId and brandName (not productId)",
        "All prices stored in paise (cents)",
        "requestedQuantity is what user ordered",
        "fulfilledQuantity is what was actually fulfilled (may be less if inventory shortage)",
        "fulfilledPrice = unitPrice * fulfilledQuantity",
        "refundedPrice = unitPrice * (requestedQuantity - fulfilledQuantity)",
        "paidAmount is deducted from wallet at order creation",
        "refundAmount is added back to wallet for unfulfilled items",
        "fulfillmentDetails contains gift card allocation and status info",
        "PENDING orders are awaiting processing",
        "FULFILLED orders have all items delivered",
        "PARTIALLY_FULFILLED orders have some items delivered, rest refunded",
        "CANCELLED orders are user-cancelled with full refund",
        "FAILED orders had processing errors with full refund",
        "brandId references the Brand table primary key",
        "variantId is the variant identifier within the brand (e.g., 'amazon-500')"
    ]
}