{
    "tableName": "giftify-backend-stage-gift-cards",
    "description": "Sample data for Gift Cards table - stores individual gift card inventory with reservation system",
    "primaryKey": {
        "partitionKey": "giftCardId (String)"
    },
    "globalSecondaryIndexes": [
        {
            "indexName": "VariantExpiryIndex",
            "partitionKey": "variantId (String)",
            "sortKey": "expiryTime (String)"
        },
        {
            "indexName": "OrderCardsIndex",
            "partitionKey": "usedByOrder (String)"
        },
        {
            "indexName": "UserCardsIndex",
            "partitionKey": "usedByUser (String)"
        }
    ],
    "sampleItems": [
        {
            "giftCardId": "01HKQM5X8G9YZ2GIFT001234567",
            "brandId": "01HKQM5X8G9YZ2BRAND001",
            "variantId": "amazon-500",
            "brandName": "Amazon",
            "variantName": "₹500 Gift Card",
            "denomination": 500,
            "giftCardNumber": "AMZN-1234-5678-9012-3456",
            "giftCardPin": "1234",
            "expiryTime": "2025-01-15T11:25:00.000Z",
            "purchasePrice": 48500,
            "usedByOrder": "01HKQM5X8G9YZ2ORDER0012345",
            "usedByUser": "01HKQM5X8G9YZ2ABCDEFGH1234",
            "usedAt": "2024-01-15T11:25:00.000Z",
            "createdAt": "2024-01-10T09:00:00.000Z",
            "updatedAt": "2024-01-15T11:25:00.000Z"
        },
        {
            "giftCardId": "01HKQM5X8G9YZ2GIFT001234568",
            "brandId": "01HKQM5X8G9YZ2BRAND001",
            "variantId": "amazon-500",
            "brandName": "Amazon",
            "variantName": "₹500 Gift Card",
            "denomination": 500,
            "giftCardNumber": "AMZN-2345-6789-0123-4567",
            "giftCardPin": "5678",
            "expiryTime": "2025-01-15T11:25:00.000Z",
            "purchasePrice": 48500,
            "usedByOrder": "01HKQM5X8G9YZ2ORDER0012345",
            "usedByUser": "01HKQM5X8G9YZ2ABCDEFGH1234",
            "usedAt": "2024-01-15T11:25:00.000Z",
            "createdAt": "2024-01-10T09:00:00.000Z",
            "updatedAt": "2024-01-15T11:25:00.000Z"
        },
        {
            "giftCardId": "01HKQM5X8G9YZ2GIFT001234569",
            "brandId": "01HKQM5X8G9YZ2BRAND001",
            "variantId": "amazon-1000",
            "brandName": "Amazon",
            "variantName": "₹1000 Gift Card",
            "denomination": 1000,
            "giftCardNumber": "AMZN-3456-7890-1234-5678",
            "giftCardPin": "9012",
            "expiryTime": "2025-02-01T10:00:00.000Z",
            "purchasePrice": 97000,
            "createdAt": "2024-01-10T09:00:00.000Z",
            "updatedAt": "2024-01-10T09:00:00.000Z"
        },
        {
            "giftCardId": "01HKQM5X8G9YZ2GIFT00123456A",
            "brandId": "01HKQM5X8G9YZ2BRAND002",
            "variantId": "flipkart-500",
            "brandName": "Flipkart",
            "variantName": "₹500 Gift Voucher",
            "denomination": 500,
            "giftCardNumber": "FLIP-4567-8901-2345-6789",
            "giftCardPin": "3456",
            "expiryTime": "2025-02-01T10:00:00.000Z",
            "purchasePrice": 49000,
            "createdAt": "2024-01-10T09:00:00.000Z",
            "updatedAt": "2024-01-10T09:00:00.000Z"
        },
        {
            "giftCardId": "01HKQM5X8G9YZ2GIFT00123456B",
            "brandId": "01HKQM5X8G9YZ2BRAND003",
            "variantId": "zomato-300",
            "brandName": "Zomato",
            "variantName": "₹300 Food Voucher",
            "denomination": 300,
            "giftCardNumber": "ZOMA-5678-9012-3456-7890",
            "giftCardPin": "7890",
            "expiryTime": "2024-07-15T10:00:00.000Z",
            "purchasePrice": 28500,
            "reservedByOrder": "01HKQM5X8G9YZ2ORDER0012346",
            "reservedByUser": "01HKQM5X8G9YZ2ABCDEFGH5678",
            "reservedAt": "2024-01-15T14:30:00.000Z",
            "reservationExpiresAt": "2024-01-15T14:40:00.000Z",
            "createdAt": "2024-01-10T09:00:00.000Z",
            "updatedAt": "2024-01-15T14:30:00.000Z"
        },
        {
            "giftCardId": "01HKQM5X8G9YZ2GIFT00123456C",
            "brandId": "01HKQM5X8G9YZ2BRAND001",
            "variantId": "amazon-2000",
            "brandName": "Amazon",
            "variantName": "₹2000 Gift Card",
            "denomination": 2000,
            "giftCardNumber": "AMZN-6789-0123-4567-8901",
            "giftCardPin": "1357",
            "expiryTime": "2025-03-01T10:00:00.000Z",
            "purchasePrice": 194000,
            "createdAt": "2024-01-10T09:00:00.000Z",
            "updatedAt": "2024-01-10T09:00:00.000Z"
        }
    ],
    "notes": [
        "Each gift card has unique giftCardId as primary key",
        "VariantExpiryIndex GSI enables FIFO allocation of cards by variant (oldest expiry first)",
        "OrderCardsIndex GSI enables quick lookup of all cards allocated to an order",
        "UserCardsIndex GSI enables quick lookup of all cards purchased by a user",
        "Reservation system prevents duplicate allocation during concurrent orders",
        "reservedByOrder and reservedByUser fields are set during reservation",
        "reservationExpiresAt is typically 10 minutes from reservation time",
        "usedByOrder and usedByUser are set when reservation is confirmed",
        "Unused cards have no usedByOrder/usedByUser/reservedByOrder fields",
        "Reserved but not confirmed cards can be released if reservation expires",
        "All prices stored in paise (cents)",
        "giftCardNumber and giftCardPin should be encrypted in production",
        "brandId references the Brand table primary key",
        "variantId is the variant identifier within the brand (e.g., 'amazon-500')"
    ]
}